[["lis-data.html", "Chapter 7 LIS Data 7.1 The LIS_data repository 7.2 Interacting with LISSY 7.3 Getting the 400 bins from LISSY 7.4 From Text file to datalibweb structure 7.5 Prepare data for the Poverty GP", " Chapter 7 LIS Data Some of the countries that are not available in DataLibWeb can be found in the repository of the LIS Cross-National Data Center (hereafter, LIS). They provide a remote-execution system, LISSY, that allows us interact with their micrdata without having access to the individual records. We have developed a set of Stata do-files to interact with the LIS system and aggregate the welfare distribution of countries of interest to 400 bins. Then, these data is organized locally and shared with the Poverty GP to be included in DataLibWeb as a collection independent from GPWG. 7.1 The LIS_data repository In order to work with the LIS data you need to clone the repository PovcalNet-Team/LIS/_data. You will find in there three folders, 00.LIS_output, 01.programs, and 02.data. 7.2 Interacting with LISSY Marthis: How to open an account in LISSY How to log in and work inside LISSY 7.3 Getting the 400 bins from LISSY Marthis: What parts of the do-file we should modify How and where to save the results (Exaplain the naming so it could be used in the 02.LIS_organize_output.do file) 7.4 From Text file to datalibweb structure We now need to convert the the text files generated by the LISSY system to actual data suitable for datalibweb. This structure is suggested by the International Household Survey Network (IHSN). Once the data is saved in the corresponding folder (which is) you need to execute the file 02.LIS_organize_output.do. Marthis: Explanation of the Excel file with the name of the variables. Not about what it has, but about what it does and how it is used. This do-file works like an ado-file in the sense that the output depends on the value of some local macros, local update_surveynames = 0 // change to 1 to update survey names. local code_personal_dir = 1 // change to 1 to use Code personal dir local data_personal_dir = 0 // change to 1 to use Data personal dir local replace = 1 // change to 1 to replace data in memory even if it hasnot changed If local update_surveynames is set to 1, the code will use the file 02.data/_aux/LIS datasets.xlsx to name the surveys downloaded. (Marthis, is this correct?). If local code_personal_dir is set to 1, the code will use the file 01.programs/lis_functions.mata of the cloned repository. Otherwise, it will use the same file that is available in the P drive. We highly recommend you set this local to 1. This option will be deprecated in the future. when local data_personal_dir is set to 1, the code will use the text files you place in the folder 00.LIS_output/, otherwise it will use the one in the P drive. So, this highly depends on where you saved the data from LIS. Finally, if replace is set to 1, the code will replace any output with the same name. Otherwise, it will create a new vintage version if the two files are different. If they are not different, the code will do nothing. Once last part that you must modify is the line that reads, local files: dir &quot;00.LIS_output/&quot; files &quot;LISSY_2020-02-06*.txt&quot; The string after files tells Stata what the name convention of the files youre going to convert is. In the example above, youd be telling Stata to load all the .txt files that start with LISSY_2020-02-06. So, it will read files like LISSY_2020-02-06-4.txt or LISSY_2020-02-06-test.txt. 7.5 Prepare data for the Poverty GP Marthis:Could please explain the whole process? Do we have additional do-files for this part? If we do, we need to add them to the repository. "]]
