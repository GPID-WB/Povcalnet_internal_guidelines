<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Prepare data for PovcalNet update | PovcalNet Internal Guidelines and Protocols</title>
  <meta name="description" content="PovcalNet guidelines and protocols for internal workflow" />
  <meta name="generator" content="bookdown 0.21.4 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Prepare data for PovcalNet update | PovcalNet Internal Guidelines and Protocols" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="PovcalNet guidelines and protocols for internal workflow" />
  <meta name="github-repo" content="worldbank/Povcalnet_internal_guidelines" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Prepare data for PovcalNet update | PovcalNet Internal Guidelines and Protocols" />
  
  <meta name="twitter:description" content="PovcalNet guidelines and protocols for internal workflow" />
  

<meta name="author" content="PovcalNet team" />
<meta name="author" content="Development economics" />
<meta name="author" content="World Bank Group" />


<meta name="date" content="2020-11-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="stata-github.html"/>
<link rel="next" href="primus.html"/>
<script src="libs/header-attrs-2.5.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script async defer src="https://hypothes.is/embed.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PovcalNet Internal Guidelines</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#team"><i class="fa fa-check"></i>Team</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="part"><span><b>I Basics</b></span></li>
<li class="chapter" data-level="2" data-path="folder-strcutures.html"><a href="folder-strcutures.html"><i class="fa fa-check"></i><b>2</b> Folder Strcutures</a>
<ul>
<li class="chapter" data-level="2.1" data-path="folder-strcutures.html"><a href="folder-strcutures.html#network-drive"><i class="fa fa-check"></i><b>2.1</b> Network Drive</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="folder-strcutures.html"><a href="folder-strcutures.html#steps"><i class="fa fa-check"></i><b>2.1.1</b> Steps to map drives</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="folder-strcutures.html"><a href="folder-strcutures.html#server"><i class="fa fa-check"></i><b>2.2</b> Remote server connection</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="folder-strcutures.html"><a href="folder-strcutures.html#connect"><i class="fa fa-check"></i><b>2.2.1</b> Steps to connect to the server</a></li>
<li class="chapter" data-level="2.2.2" data-path="folder-strcutures.html"><a href="folder-strcutures.html#map-network-drive-in-the-server"><i class="fa fa-check"></i><b>2.2.2</b> Map Network drive in the server</a></li>
<li class="chapter" data-level="2.2.3" data-path="folder-strcutures.html"><a href="folder-strcutures.html#folder-strcuture-in-the-server."><i class="fa fa-check"></i><b>2.2.3</b> Folder strcuture in the server.</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="folder-strcutures.html"><a href="folder-strcutures.html#onedrive"><i class="fa fa-check"></i><b>2.3</b> OneDrive</a></li>
<li class="chapter" data-level="2.4" data-path="folder-strcutures.html"><a href="folder-strcutures.html#add"><i class="fa fa-check"></i><b>2.4</b> Additional topics to discuss</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="folder-strcutures.html"><a href="folder-strcutures.html#r-or-stata-or-both"><i class="fa fa-check"></i><b>2.4.1</b> R or Stata or both?</a></li>
<li class="chapter" data-level="2.4.2" data-path="folder-strcutures.html"><a href="folder-strcutures.html#github"><i class="fa fa-check"></i><b>2.4.2</b> GitHub</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html"><i class="fa fa-check"></i><b>3</b> Collaboration in Git</a>
<ul>
<li class="chapter" data-level="3.1" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#initial-set-up"><i class="fa fa-check"></i><b>3.1</b> Initial Set up</a></li>
<li class="chapter" data-level="3.2" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#getting-to-know-git"><i class="fa fa-check"></i><b>3.2</b> Getting to know <span>Git</span></a></li>
<li class="chapter" data-level="3.3" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#basics-of-git"><i class="fa fa-check"></i><b>3.3</b> Basics of Git</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#working-with-repositories"><i class="fa fa-check"></i><b>3.3.1</b> Working with repositories</a></li>
<li class="chapter" data-level="3.3.2" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#branching-and-merging"><i class="fa fa-check"></i><b>3.3.2</b> Branching and Merging</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#getting-to-know-smartgit"><i class="fa fa-check"></i><b>3.4</b> Getting to know <span>SmartGit</span></a>
<ul>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#install-smartgit"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#integration-with-github"><i class="fa fa-check"></i>Integration with GitHub</a></li>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#organize-your-toolbar"><i class="fa fa-check"></i>Organize your toolbar</a></li>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#initialize-repos"><i class="fa fa-check"></i>Initialize Repos</a></li>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#clone-repos"><i class="fa fa-check"></i>Clone Repos</a></li>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#organize-repos-by-groups"><i class="fa fa-check"></i>Organize Repos by groups</a></li>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#how-do-you-link-a-repository-that-is-your-local-machine-to-your-github-account"><i class="fa fa-check"></i>How do you link a repository that is your local machine to your GitHub account?</a></li>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#basic-git-process"><i class="fa fa-check"></i>Basic Git process</a></li>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#important-keyboard-shortcut-process"><i class="fa fa-check"></i>Important keyboard shortcut process</a></li>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#nice-features-of-smartgit"><i class="fa fa-check"></i>Nice features of SmartGit</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#advanced-git-process"><i class="fa fa-check"></i><b>3.5</b> Advanced Git process</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#git-workflow"><i class="fa fa-check"></i><b>3.5.1</b> Git workflow</a></li>
<li class="chapter" data-level="3.5.2" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#how-to-work-with-commits"><i class="fa fa-check"></i><b>3.5.2</b> How to work with commits</a></li>
<li class="chapter" data-level="3.5.3" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#what-to-do-with-changes-you-dont-want-to-commit"><i class="fa fa-check"></i><b>3.5.3</b> What to do with changes you don’t want to commit</a></li>
<li class="chapter" data-level="3.5.4" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#how-to-undo-stuff-in-the-git"><i class="fa fa-check"></i><b>3.5.4</b> How to undo stuff in the Git</a></li>
<li class="chapter" data-level="3.5.5" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#how-to-deal-with-merge-conflicts"><i class="fa fa-check"></i><b>3.5.5</b> How to deal with merge conflicts</a></li>
<li class="chapter" data-level="3.5.6" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#how-to-work-with-pull-requests"><i class="fa fa-check"></i><b>3.5.6</b> How to work with pull requests</a></li>
<li class="chapter" data-level="3.5.7" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#dos-and-donts"><i class="fa fa-check"></i><b>3.5.7</b> DO’s and DONT’s</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#getting-to-know-gitkraken"><i class="fa fa-check"></i><b>3.6</b> Getting to know <span>GitKraken</span></a>
<ul>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#gitkraken-interface"><i class="fa fa-check"></i>GItKraken Interface</a></li>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#create-a-repository"><i class="fa fa-check"></i>Create a repository</a></li>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#clone-a-repository"><i class="fa fa-check"></i>Clone a repository</a></li>
<li class="chapter" data-level="" data-path="collaboration-in-git.html"><a href="collaboration-in-git.html#working-with-commits"><i class="fa fa-check"></i>Working with commits</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="stata-github.html"><a href="stata-github.html"><i class="fa fa-check"></i><b>4</b> Stata and Github</a>
<ul>
<li class="chapter" data-level="4.1" data-path="stata-github.html"><a href="stata-github.html#stata-ado-path"><i class="fa fa-check"></i><b>4.1</b> Stata ado-path</a></li>
<li class="chapter" data-level="4.2" data-path="stata-github.html"><a href="stata-github.html#install-github"><i class="fa fa-check"></i><b>4.2</b> Installing commands from Github</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="stata-github.html"><a href="stata-github.html#recommended-method"><i class="fa fa-check"></i><b>4.2.1</b> Recommended method</a></li>
<li class="chapter" data-level="4.2.2" data-path="stata-github.html"><a href="stata-github.html#alternative-method"><i class="fa fa-check"></i><b>4.2.2</b> Alternative method</a></li>
<li class="chapter" data-level="4.2.3" data-path="stata-github.html"><a href="stata-github.html#last-resource-method"><i class="fa fa-check"></i><b>4.2.3</b> Last resource method</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="stata-github.html"><a href="stata-github.html#cloning-the-stata-command-repository"><i class="fa fa-check"></i><b>4.3</b> Cloning the Stata command repository</a></li>
</ul></li>
<li class="part"><span><b>II PovcalNet Update</b></span></li>
<li class="chapter" data-level="5" data-path="prepare.html"><a href="prepare.html"><i class="fa fa-check"></i><b>5</b> Prepare data for PovcalNet update</a>
<ul>
<li class="chapter" data-level="5.1" data-path="prepare.html"><a href="prepare.html#population"><i class="fa fa-check"></i><b>5.1</b> Population</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="prepare.html"><a href="prepare.html#raw-data"><i class="fa fa-check"></i><b>5.1.1</b> Raw data</a></li>
<li class="chapter" data-level="5.1.2" data-path="prepare.html"><a href="prepare.html#update-master-file"><i class="fa fa-check"></i><b>5.1.2</b> update master file</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="prepare.html"><a href="prepare.html#gdp-and-consumption-pce"><i class="fa fa-check"></i><b>5.2</b> GDP and Consumption (PCE)</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="prepare.html"><a href="prepare.html#raw-data-1"><i class="fa fa-check"></i><b>5.2.1</b> Raw data</a></li>
<li class="chapter" data-level="5.2.2" data-path="prepare.html"><a href="prepare.html#update-master-file-1"><i class="fa fa-check"></i><b>5.2.2</b> Update master file</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="prepare.html"><a href="prepare.html#cpi-and-ppp"><i class="fa fa-check"></i><b>5.3</b> CPI and PPP</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="prepare.html"><a href="prepare.html#cpicaution"><i class="fa fa-check"></i><b>5.3.1</b> Word of Caution</a></li>
<li class="chapter" data-level="5.3.2" data-path="prepare.html"><a href="prepare.html#different-cpi-datasets"><i class="fa fa-check"></i><b>5.3.2</b> Different CPI datasets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="primus.html"><a href="primus.html"><i class="fa fa-check"></i><b>6</b> PRIMUS</a>
<ul>
<li class="chapter" data-level="6.1" data-path="primus.html"><a href="primus.html#interacting-with-primus"><i class="fa fa-check"></i><b>6.1</b> Interacting with PRIMUS</a>
<ul>
<li class="chapter" data-level="" data-path="primus.html"><a href="primus.html#website-platform"><i class="fa fa-check"></i>Website platform</a></li>
<li class="chapter" data-level="" data-path="primus.html"><a href="primus.html#stata-command"><i class="fa fa-check"></i>Stata command</a></li>
<li><a href="primus.html#corrections-to-primus-stata-command">Corrections to <code>primus</code> Stata command</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="primus.html"><a href="primus.html#understanding-primus"><i class="fa fa-check"></i><b>6.2</b> Understanding PRIMUS</a></li>
<li class="chapter" data-level="6.3" data-path="primus.html"><a href="primus.html#checking-the-data-uploaded-to-primus"><i class="fa fa-check"></i><b>6.3</b> Checking the data uploaded to PRIMUS</a></li>
<li class="chapter" data-level="6.4" data-path="primus.html"><a href="primus.html#confirming-and-approving-data-in-primus"><i class="fa fa-check"></i><b>6.4</b> Confirming and approving data in PRIMUS</a></li>
<li class="chapter" data-level="6.5" data-path="primus.html"><a href="primus.html#update-microdata-repository"><i class="fa fa-check"></i><b>6.5</b> Update microdata repository</a></li>
<li class="chapter" data-level="6.6" data-path="primus.html"><a href="primus.html#section"><i class="fa fa-check"></i><b>6.6</b> </a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="DMGroupData.html"><a href="DMGroupData.html"><i class="fa fa-check"></i><b>7</b> Upload Group Data to the Data Management System</a>
<ul>
<li class="chapter" data-level="7.1" data-path="DMGroupData.html"><a href="DMGroupData.html#group-data"><i class="fa fa-check"></i><b>7.1</b> Group Data</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="DMGroupData.html"><a href="DMGroupData.html#preparing-the-data"><i class="fa fa-check"></i><b>7.1.1</b> Preparing the data</a></li>
<li class="chapter" data-level="7.1.2" data-path="DMGroupData.html"><a href="DMGroupData.html#naming-convention"><i class="fa fa-check"></i><b>7.1.2</b> Naming convention</a></li>
<li class="chapter" data-level="7.1.3" data-path="DMGroupData.html"><a href="DMGroupData.html#upload-the-data."><i class="fa fa-check"></i><b>7.1.3</b> Upload the data.</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="DMGroupData.html"><a href="DMGroupData.html#master-file"><i class="fa fa-check"></i><b>7.2</b> Master File</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="DMGroupData.html"><a href="DMGroupData.html#preparing-the-master-file"><i class="fa fa-check"></i><b>7.2.1</b> Preparing the Master File</a></li>
<li class="chapter" data-level="7.2.2" data-path="DMGroupData.html"><a href="DMGroupData.html#upload-master-file"><i class="fa fa-check"></i><b>7.2.2</b> Upload Master file</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="DMGroupData.html"><a href="DMGroupData.html#making-sure-everything-works"><i class="fa fa-check"></i><b>7.3</b> Making sure everything works</a></li>
</ul></li>
<li class="part"><span><b>III Miscellaneous</b></span></li>
<li class="chapter" data-level="8" data-path="referencing-software-zotero.html"><a href="referencing-software-zotero.html"><i class="fa fa-check"></i><b>8</b> Referencing software: Zotero</a>
<ul>
<li class="chapter" data-level="8.1" data-path="referencing-software-zotero.html"><a href="referencing-software-zotero.html#installation"><i class="fa fa-check"></i><b>8.1</b> Installation</a></li>
<li class="chapter" data-level="8.2" data-path="referencing-software-zotero.html"><a href="referencing-software-zotero.html#extensions-and-add-ons"><i class="fa fa-check"></i><b>8.2</b> Extensions and add-ons</a></li>
<li class="chapter" data-level="8.3" data-path="referencing-software-zotero.html"><a href="referencing-software-zotero.html#adding-references-to-zotero"><i class="fa fa-check"></i><b>8.3</b> Adding references to Zotero</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-visualization-flourish-studio.html"><a href="data-visualization-flourish-studio.html"><i class="fa fa-check"></i><b>9</b> Data visualization: Flourish studio</a>
<ul>
<li class="chapter" data-level="9.1" data-path="data-visualization-flourish-studio.html"><a href="data-visualization-flourish-studio.html#sign-in"><i class="fa fa-check"></i><b>9.1</b> Sign in</a></li>
<li class="chapter" data-level="9.2" data-path="data-visualization-flourish-studio.html"><a href="data-visualization-flourish-studio.html#get-started"><i class="fa fa-check"></i><b>9.2</b> Get started</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="kihoons-handover.html"><a href="kihoons-handover.html"><i class="fa fa-check"></i><b>A</b> Kihoon’s Handover</a>
<ul>
<li class="chapter" data-level="A.1" data-path="kihoons-handover.html"><a href="kihoons-handover.html#gpwg-process"><i class="fa fa-check"></i><b>A.1</b> GPWG process</a>
<ul>
<li class="chapter" data-level="" data-path="kihoons-handover.html"><a href="kihoons-handover.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="kihoons-handover.html"><a href="kihoons-handover.html#how-to-download-surveys-from-the-gpwg-data-and-generate-pcb-files"><i class="fa fa-check"></i>How to download surveys from the GPWG data and generate pcb files</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="kihoons-handover.html"><a href="kihoons-handover.html#lis-data-process"><i class="fa fa-check"></i><b>A.2</b> LIS Data Process</a>
<ul>
<li class="chapter" data-level="" data-path="kihoons-handover.html"><a href="kihoons-handover.html#introduction-1"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="kihoons-handover.html"><a href="kihoons-handover.html#how-to-download-surveys-from-the-lis-data-server-and-generate-pcb-file"><i class="fa fa-check"></i>How to download surveys from the LIS data server and generate pcb file</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="kihoons-handover.html"><a href="kihoons-handover.html#lac-historical-data"><i class="fa fa-check"></i><b>A.3</b> LAC Historical data</a></li>
<li class="chapter" data-level="A.4" data-path="kihoons-handover.html"><a href="kihoons-handover.html#eca-historical-data"><i class="fa fa-check"></i><b>A.4</b> ECA Historical data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/worldbank/Povcalnet_internal_guidelines" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PovcalNet Internal Guidelines and Protocols</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div class="rmdreview">This book is in <strong>Open Review</strong>. Please provide your feedback to make the book better for you and other readers. To add your annotation, do the following,&nbsp;
<p>1. Create a free account in <a href="https://hypothes.is/signup">hypothes.is</a>&nbsp;&nbsp;</p>
<p>2. Come back to this book and click on the upper-right-hand corner of the page to log in.&nbsp;</p>
  <p>3. To make an annotation,&nbsp;<span style="background-color: #3297fd; color: white;">select some text</span> and then click on the pop-up menu.</p>
 <p>4. To see the annotations of others, click the in the upper right hand corner of the page</p>

<p>Thanks.&nbsp;</p>
 </div>
<div id="prepare" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> Prepare data for PovcalNet update</h1>
<p>In this chapter we briefly describe what needs to be done with each auxiliary
measure used to update PovcalNet. Each of th next section describes one measure
and, in general, they are divided in <strong>Raw Data</strong> and <strong>Update Master File</strong>
subsection.</p>
<p>Most of the heavy load on updating the master file is carried by the
<code>pcn master, udpate(sheet)</code> command in Stata, where <code>sheet</code> refers to name of
the sheet in the master file. If you need to make any modification, please make
sure to create a new branch from the most recent of the master branch in the
<a href="https://github.com/PovcalNet-Team/pcn">PovcalNet-Team/pcn</a> Github repository.</p>
<div id="population" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Population</h2>
<div id="raw-data" class="section level3" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Raw data</h3>
<p>Everything related population data should be placed in the folder
<code>p:/01.PovcalNet/03.QA/03.Population</code>, hereafter (<code>./</code>).</p>
<p>Population data is saved in the folder <code>./data</code>. The data is may come from two
different sources, WDI or from an internal source in DECDG. Right now, the data
is build and shared by <code>Emi Suzuki &lt;esuzuki1@worldbank.org&gt;</code> in an Excel file.</p>
<p>The file shared by Emi should be placed without modification in the folder
<code>./data/original</code>. Then, the file is copied again into the folder <code>./data</code> with
the name <code>population_country_yyyy-mm-dd.xlsx</code> where <code>yyyy-mm-dd</code> refers to the
official release date of the population data.</p>
</div>
<div id="update-master-file" class="section level3" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> update master file</h3>
<p>Once the new raw population data is in the folder <code>./data</code> it is necessary to
update the <code>population</code> sheet in the master file. This can be done by just type,</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb10-1"><a href="prepare.html#cb10-1"></a>pcn master, update(population)</span></code></pre></div>
<p>Finally, you can check the differences between the two versions by using the
following code,</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb11-1"><a href="prepare.html#cb11-1"></a>pcn master, <span class="kw">load</span>(Population) </span>
<span id="cb11-2"><a href="prepare.html#cb11-2"></a><span class="kw">rename</span> population pop2</span>
<span id="cb11-3"><a href="prepare.html#cb11-3"></a></span>
<span id="cb11-4"><a href="prepare.html#cb11-4"></a><span class="kw">tempfile</span> pop2</span>
<span id="cb11-5"><a href="prepare.html#cb11-5"></a><span class="kw">save</span> <span class="ot">`pop2&#39;</span></span>
<span id="cb11-6"><a href="prepare.html#cb11-6"></a></span>
<span id="cb11-7"><a href="prepare.html#cb11-7"></a><span class="co">// the version to compare with must change depending on the vintage available</span></span>
<span id="cb11-8"><a href="prepare.html#cb11-8"></a></span>
<span id="cb11-9"><a href="prepare.html#cb11-9"></a>pcn master, <span class="kw">load</span>(Population) <span class="kw">version</span>(-1) </span>
<span id="cb11-10"><a href="prepare.html#cb11-10"></a><span class="kw">rename</span> population pop1</span>
<span id="cb11-11"><a href="prepare.html#cb11-11"></a><span class="kw">merge</span> 1:1 countrycode coveragetype <span class="fu">year</span> <span class="kw">using</span> <span class="ot">`pop2&#39;</span></span>
<span id="cb11-12"><a href="prepare.html#cb11-12"></a></span>
<span id="cb11-13"><a href="prepare.html#cb11-13"></a><span class="kw">tab</span> <span class="fu">year</span> <span class="kw">if</span> <span class="dt">_merge</span> == 2</span>
<span id="cb11-14"><a href="prepare.html#cb11-14"></a></span>
<span id="cb11-15"><a href="prepare.html#cb11-15"></a><span class="kw">tab</span> countryname <span class="kw">if</span> <span class="dt">_merge</span> == 2 &amp; <span class="fu">year</span> &lt; 2019</span>
<span id="cb11-16"><a href="prepare.html#cb11-16"></a></span>
<span id="cb11-17"><a href="prepare.html#cb11-17"></a><span class="kw">gen</span> diffpop = pop1 - pop2</span>
<span id="cb11-18"><a href="prepare.html#cb11-18"></a><span class="kw">sum</span> diffpop</span>
<span id="cb11-19"><a href="prepare.html#cb11-19"></a>br <span class="kw">if</span> <span class="fu">abs</span>(diffpop) &gt; <span class="ot">`r(mean)&#39;</span>*2*<span class="ot">`r(sd)&#39;</span> &amp; diffpop != .</span></code></pre></div>
<p>Keep in mind that option <code>version(-1)</code> refers to one version before the current
one. If it were <code>version(-2)</code>, it would be two versions before the current one.
Keep in mind that the negative integer in this function refers to the version of
the master file and not to the version of the sheet you’re loading. Currently,
there is no way to track the versions of each sheet in the Master file.</p>
</div>
</div>
<div id="gdp-and-consumption-pce" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> GDP and Consumption (PCE)</h2>
<p>GDP and consumption data are used to measure economic growth for the
interpolation and extrapolation calculations.</p>
<div id="raw-data-1" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Raw data</h3>
<p>The raw data of GDP and PCE data comes from WDI through the Stata command
<code>wbopendata</code>. For GDP the ticket is <code>NY.GDP.PCAP.KD</code> and for PCE the ticket used
is <code>NE.CON.PRVT.PC.KD</code>. For some countries, however, the economic growth data is
not available in WDI, so it has to be gathered from other sources besides WDI.
You can see <a href="prepare.html#scnac">below</a> a deeper explanation and process on how to update
the auxiliary files of these <em>special cases</em>.</p>
<p><strong>TODO:</strong> Talk about the Maddisson data.</p>
<div id="scnac" class="section level4 unnumbered" number="">
<h4>National accounts for “special cases”</h4>
<p>The <em>Special Cases</em> can be found in the folder
<code>P:/01.PovcalNet/03.QA/04.NationalAccounts/data</code>. This folder contains all the
different versions previously used in <strong>PovcalNet</strong> with national accounts info
of special cases. Each file is called <code>NAS special_YYYY-mm-dd.xlsx</code>, where
<code>YYYY</code> refers to year, <code>mm</code>to month, and <code>dd</code>to day. When you update the
information of these files make sure you,</p>
<ol style="list-style-type: decimal">
<li>open the most recent version,</li>
<li>save with the current date</li>
<li>edit it as needed</li>
</ol>
<p>In order to update the <em>special cases</em> file, do the following,</p>
<ol style="list-style-type: decimal">
<li>Get the relevant data from the latest versions of the <a href="https://www.imf.org/en/Publications/SPROLLs/world-economic-outlook-databases#sort=%40imfdate%20descending">World Economic
Outlook</a>
(WEO). The WEO series for GDP is <strong>NGDPRPC</strong>. If <strong>NGDPRPC</strong> is not
available, use the growth rate provided in <strong>NGDPRPPPPCPCH</strong> to splice on
the series.</li>
<li>Update the non-missing observations in the PCE and GDP series. <em>Make sure
there is no observation where both PCE and GDP are missing</em>.</li>
<li>In the Excel file for the national accounts, you will find the source of
data and clues on how best to update each observation. Unless otherwise
instructed by R.Andrés Castañeda or Christoph Lakner, use the source in the
latest version of the national accounts to update the relevant observations.</li>
<li>For India, update the latest Excel file with pass-through calculations,
which can be found at <code>P:/01.PovcalNet/03.QA/04.NationalAccounts/data/_aux</code>.
Follow instructions in the Excel file and Daniel Mahler to update rural and
urban PCE.</li>
</ol>
</div>
<div id="description-of-series" class="section level4 unnumbered" number="">
<h4>Description of series</h4>
<ul>
<li><p><strong><em>NE.CON.PRVT.PC.KD</em></strong>: Household final consumption expenditure per capita
(constant 2010 US$).</p></li>
<li><p><strong><em>NY.GDP.PCAP.KD</em></strong>: GDP per capita is gross domestic product divided by
midyear population. Data are in constant 2010 U.S. dollars.</p></li>
<li><p><strong><em>NGDPRPC</em></strong>: Gross domestic product per capita, constant prices. GDP is
expressed in constant national currency per person. Data are derived by
dividing constant price GDP by total population.*</p></li>
<li><p><strong><em>NGDPRPPPPCPCH</em></strong>: Gross domestic product per capita, constant prices
(purchasing power parity; percent change). Data are derived by dividing
constant price purchasing-power parity (PPP) GDP by total population.</p></li>
</ul>
</div>
</div>
<div id="update-master-file-1" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Update master file</h3>
<p>Once the <em>special cases</em> file has been updated you must update the master file
by using the following command lines,</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb12-1"><a href="prepare.html#cb12-1"></a>pcn master, update(gdp)</span>
<span id="cb12-2"><a href="prepare.html#cb12-2"></a>pcn master, update(pce)</span></code></pre></div>
<p>The <code>pcn</code> command integrates all the WDI, Maddisson, and Special Cases files in
the correct format of the master file. You can run these lines even if only one
of the sources gets updated. If you want to understand the how these two sheets
get updated, you can see the procedure in the file
<a href="https://github.com/PovcalNet-Team/pcn/blob/master/pcn_master_update.ado"><em>pcn_master_update.ado</em></a><em>.</em>
In particular, you can see <a href="https://github.com/PovcalNet-Team/pcn/blob/790a1b1fc721199dfe1cdbbc103d399174785cc9/pcn_master_update.ado#L170-L354">these
lines</a>
for the GDP and <a href="https://github.com/PovcalNet-Team/pcn/blob/790a1b1fc721199dfe1cdbbc103d399174785cc9/pcn_master_update.ado#L360-L508">these
lines</a>
for the PCE.</p>
</div>
</div>
<div id="cpi-and-ppp" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> CPI and PPP</h2>
<p>Even though the CPI and PPP come from different sources, in the PovcalNet update
process we use the most recent version provided by <code>datalibweb</code> (DLW). DLW
provides a curated, clean, and organized file with all the CPIs and PPPs values
for all the countries and years. If you want to load the most recent version
directly from DLW, you use the following lines of code,</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb13-1"><a href="prepare.html#cb13-1"></a><span class="kw">local</span> cpipath <span class="st">&quot;c:</span><span class="ch">\a</span><span class="st">do\personal\Datalibweb\data\GMD\SUPPORT\SUPPORT_2005_CPI&quot;</span></span>
<span id="cb13-2"><a href="prepare.html#cb13-2"></a><span class="kw">local</span> cpidirs: <span class="ot">dir</span> <span class="st">&quot;`cpipath&#39;&quot;</span> dirs <span class="st">&quot;*CPI_*_M&quot;</span></span>
<span id="cb13-3"><a href="prepare.html#cb13-3"></a></span>
<span id="cb13-4"><a href="prepare.html#cb13-4"></a><span class="kw">local</span> cpivins <span class="st">&quot;0&quot;</span></span>
<span id="cb13-5"><a href="prepare.html#cb13-5"></a><span class="kw">foreach</span> cpidir <span class="kw">of</span> <span class="kw">local</span> cpidirs {</span>
<span id="cb13-6"><a href="prepare.html#cb13-6"></a>    <span class="kw">if</span> <span class="fu">regexm</span>(<span class="st">&quot;`cpidir&#39;&quot;</span>, <span class="st">&quot;cpi_v([0-9]+)_m&quot;</span>) <span class="kw">local</span> cpivin = <span class="fu">regexs</span>(1)</span>
<span id="cb13-7"><a href="prepare.html#cb13-7"></a>    <span class="kw">local</span> cpivins <span class="st">&quot;`cpivins&#39;, `cpivin&#39;&quot;</span></span>
<span id="cb13-8"><a href="prepare.html#cb13-8"></a>}</span>
<span id="cb13-9"><a href="prepare.html#cb13-9"></a><span class="kw">local</span> cpivin = <span class="fu">max</span>(<span class="ot">`cpivins&#39;</span>)</span>
<span id="cb13-10"><a href="prepare.html#cb13-10"></a></span>
<span id="cb13-11"><a href="prepare.html#cb13-11"></a></span>
<span id="cb13-12"><a href="prepare.html#cb13-12"></a>cap datalibweb, country(Support) <span class="fu">year</span>(2005) <span class="dv">type</span>(GMDRAW) <span class="co">/*</span></span>
<span id="cb13-13"><a href="prepare.html#cb13-13"></a><span class="co">*/</span>  surveyid(Support_2005_CPI_v0<span class="ot">`cpivin&#39;</span>_M) <span class="co">/* </span></span>
<span id="cb13-14"><a href="prepare.html#cb13-14"></a><span class="co">*/</span>  filename(Final_CPI_PPP_to_be_used.dta)  </span></code></pre></div>
<div id="cpicaution" class="section level3" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Word of Caution</h3>
<p>Be aware that as of today (2020-11-17) the <code>datalibweb</code> system is being updating
and it is likely that the convention used to vintage control the CPI changes in
the following month. That is, Dec 2020. If that is the case, the code above
would be obsolete and it will need to be updated in the
<a href="https://github.com/PovcalNet-Team/pcn/blob/master/pcn_update_cpi.ado">pcn_update_cpi.ado</a>
file and in the
<a href="https://github.com/PovcalNet-Team/pcn/blob/master/pcn_master_update.ado">pcn_master_update.ado</a>.</p>
</div>
<div id="different-cpi-datasets" class="section level3" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Different CPI datasets</h3>
<p>The <code>pcn</code> command updates and loads <em>two</em> databases of the CPI and PPP, and
thus, you need to update both datasets when the CPI or PPP data is updated in
DLW.</p>
<div id="internal-data" class="section level4 unnumbered" number="">
<h4>Internal data</h4>
<p>This dataset is used only by <em>PovcalNet</em> team and could be loaded in Stata by
using the <code>pcn load cpi, clear</code> directive and updated by using the directive
<code>pcn update cpi</code>. This dataset is intended to be used for general purposes that
require deflation such as reports, papers, or even internal tests. However, it
can’t be used to update the <em>CPI</em> sheet in the master file. Though the data is
the same, the format and labels are very different between the two. If you need
to update the format of this dataset, you need to modify the file
<a href="https://github.com/PovcalNet-Team/pcn/blob/master/pcn_update_cpi.ado">pcn_update_cpi.ado</a></p>
</div>
<div id="cpi-sheet-in-the-master-file" class="section level4 unnumbered" number="">
<h4><em>CPI</em> sheet in the Master file</h4>
<p>This dataset could be loaded though the directive, <code>pcn master, load(cpi)</code>. By
default the data will be loaded in Stata in wide form, which is the original
form in master file. You can load it in Stata basically for testing and checking
purposes but it is highly discouraged to use this data for any data work
related. It comes in very unfriendly format that is only useful for the
PovcalNet system. <code>pcn</code>, however, provides the option
<code>pcn master, load(cpi) shape(long)</code> that attempts to reshape the data in long
format for ease of use, but it is still not as nice and friendly as the data
loaded from <code>pcn load cpi</code>.</p>
<p>In order to updated the <em>CPI</em> sheet in the master file, you must use the
directives <code>pcn master, update(cpi)</code> and <code>pcn master, update(ppp)</code>. Even though
the CPI and PPP come from the same file, they are split in two different sheets
in the master file. Keep in mind that if the CPI vintage control in DLW changes
as mention <a href="prepare.html#cpicaution">above</a>, you will need to update the corresponding lines
in
<a href="https://github.com/PovcalNet-Team/pcn/blob/790a1b1fc721199dfe1cdbbc103d399174785cc9/pcn_master_update.ado#L71-L164">pcn_master_update.ado</a>.</p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="stata-github.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="primus.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Povcalnet_internal_guidelines.pdf", "Povcalnet_internal_guidelines.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true
});
});
</script>

</body>

</html>
