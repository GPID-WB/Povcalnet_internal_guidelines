<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 12 The Data Management System | PovcalNet Internal Guidelines and Protocols</title>
<meta name="author" content="PovcalNet team">
<meta name="author" content="Development Data Group">
<meta name="author" content="World Bank Group">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.7/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/vis-4.20.1/vis.css" rel="stylesheet">
<script src="libs/vis-4.20.1/vis.min.js"></script><script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="https://unpkg.com/tachyons@4/css/tachyons.min.css">
<link rel="stylesheet" href="css/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">PovcalNet Internal Guidelines and Protocols</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="intro.html"><span class="header-section-number">1</span> Introduction</a></li>
<li class="book-part">Basics</li>
<li><a class="" href="folder-structures.html"><span class="header-section-number">2</span> Folder Structures</a></li>
<li><a class="" href="collaboration-in-git.html"><span class="header-section-number">3</span> Collaboration in Git</a></li>
<li><a class="" href="stata-github.html"><span class="header-section-number">4</span> Stata and Github</a></li>
<li class="book-part">PovcalNet Update</li>
<li><a class="" href="intro-povcal.html"><span class="header-section-number">5</span> Introduction to PovcalNet Update</a></li>
<li><a class="" href="prepare.html"><span class="header-section-number">6</span> Prepare data for PovcalNet update</a></li>
<li><a class="" href="lis-data.html"><span class="header-section-number">7</span> LIS Data</a></li>
<li><a class="" href="primus.html"><span class="header-section-number">8</span> PRIMUS</a></li>
<li><a class="" href="update-microdata.html"><span class="header-section-number">9</span> Update microdata in the P drive</a></li>
<li><a class="" href="group-data.html"><span class="header-section-number">10</span> Group Data</a></li>
<li><a class="" href="create-pcb-files.html"><span class="header-section-number">11</span> Create .PCB files</a></li>
<li><a class="active" href="DMSystem.html"><span class="header-section-number">12</span> The Data Management System</a></li>
<li><a class="" href="master-file.html"><span class="header-section-number">13</span> Update the Master file</a></li>
<li class="book-part">Miscellaneous</li>
<li><a class="" href="referencing-software-zotero.html"><span class="header-section-number">14</span> Referencing software: Zotero</a></li>
<li><a class="" href="data-visualization-flourish-studio.html"><span class="header-section-number">15</span> Data visualization: Flourish studio</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="work-expectations.html"><span class="header-section-number">A</span> Quality of work expectations</a></li>
<li><a class="" href="kihoons-handover.html"><span class="header-section-number">B</span> Kihoon’s Handover</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/PovcalNet-Team/Povcalnet_internal_guidelines/">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="DMSystem" class="section level1" number="12">
<h1>
<span class="header-section-number">12</span> The Data Management System<a class="anchor" aria-label="anchor" href="#DMSystem"><i class="fas fa-link"></i></a>
</h1>
<p>The Data Management (DM) system is managed directly within your Internet
Browser. Since it is available to anyone in the World Bank, you need to request
to the TTLs of the PovcalNet team the correct url. For now, it is worth
mentioning that there are <em>four</em> different servers in the PovcalNet system.</p>
<div id="development-internal-server" class="section level3 unnumbered">
<h3>Development (internal) server<a class="anchor" aria-label="anchor" href="#development-internal-server"><i class="fas fa-link"></i></a>
</h3>
<p>The Development (or Internal) server is mainly for quality assurance (QA) work.
The whole PovcalNet update is done in this server. Everything that is explained
in this chapter is supposed to be done in this server. Once it is done, ITS will
make a perfect copy into production.</p>
</div>
<div id="production" class="section level3 unnumbered">
<h3>Production<a class="anchor" aria-label="anchor" href="#production"><i class="fas fa-link"></i></a>
</h3>
<p>The production server is the final step in the deployment process. In reality,
the production server is two servers that run in the back-en of the PovcalNet
website, balancing out the load of users requests at all time. This server is
not managed by any member of the PovcalNet team, but only by ITS. When the
update is complete in the Development server, ITS makes a perfect copy from
development to production, deploying thus a new version of the whole PovcalNet
system.</p>
</div>
<div id="testing-server" class="section level3 unnumbered">
<h3>Testing server<a class="anchor" aria-label="anchor" href="#testing-server"><i class="fas fa-link"></i></a>
</h3>
<p>This server is mainly used for experimentation. The kind of work done in this
server may highly affect the overall structure of the PovcalNet system, and
therefore it cannot be done in either development of production. For instance,
in 2020 the PovcalNet team and the Poverty GP wanted to assess the possibility
of removing the consumption data of Mexico, leaving only the income data into de
system. To avoid problems on development or production, this assessment was done
in the testing server, where the data could be removed safely and a special
version of the master file could be uploaded.</p>
</div>
<div id="restricted-ar-server" class="section level3 unnumbered">
<h3>Restricted (AR) server<a class="anchor" aria-label="anchor" href="#restricted-ar-server"><i class="fas fa-link"></i></a>
</h3>
<p>This server is used when restricted data are intended to be part of the
PovcalNet system. In theory, anyone in the WB may access the data in the
testing, development, or production servers. The restricted server just adds an
extra layer of authentication in which only selected people can access the data.
It is seldom used.</p>
</div>
<div id="upload-the-master-file" class="section level2" number="12.1">
<h2>
<span class="header-section-number">12.1</span> Upload the Master File<a class="anchor" aria-label="anchor" href="#upload-the-master-file"><i class="fas fa-link"></i></a>
</h2>
<p>When the master file is updated locally, the most recent version will be always
available in the folder <code>p:\01.PovcalNet\00.Master\02.vintage\</code>. There you can
find all the different versions of the master file since September, 27th, 2018.
The suffix number of each file indicates the date and time in which the file was
created. It has the form <strong>YYYYMMDDhhmmss</strong>, for year, month, day, hour, minute,
and second. <span class="red">Always make sure you upload the most recent version</span>.</p>
<p>To select the Master file in the DM system, click “Choose file” next to the
label <strong>Metadata file</strong>, and then click on “Upload metadata,” otherwise it won’t
be uploaded. Finally, you can click on “Check Survey means” to see the if the DM
system loaded correctly the Master file.</p>
<div class="inline-figure"><img src="images/Metadata_file.jpg"></div>
</div>
<div id="pcb-files" class="section level2" number="12.2">
<h2>
<span class="header-section-number">12.2</span> PCB files<a class="anchor" aria-label="anchor" href="#pcb-files"><i class="fas fa-link"></i></a>
</h2>
<p>Once you have created the pcb files following the instructions in chapter
<a href="create-pcb-files.html#create-pcb-files">11</a>, you can upload them into the DM system either one by
one or in batch mode. Batch mode is restricted to one person only, which is
<a href="mailto:tfujs@worldbank.org">Tony Fujs</a> as of today (2020-12-18). If you need to
upload more than, say, five .pcb files, we recommend you let Tony know where the
files are and ask him to upload them to the development server. If the number of
.pcb files to upload is small, you can upload them one-by-one. The reason why
you can’t upload many files at the same time is that the server has a very
limited size capacity for uploading files. If the overall upload is larger than
4MB, the process will fail.</p>
<p>To upload a .pcb or group data file manually, you need to click on “choose
Files” next to the label <strong>Data files(s) (</strong><span class="red">make sure you don’t confuse it with
the one next to <strong>Metadata</strong></span><strong>)</strong>. Then, you need to click on “Upload
data file(s).”<img src="images/Metadata_file3.jpg"></p>
</div>
<div id="updating-the-system" class="section level2" number="12.3">
<h2>
<span class="header-section-number">12.3</span> Updating the system<a class="anchor" aria-label="anchor" href="#updating-the-system"><i class="fas fa-link"></i></a>
</h2>
<p>Once the master file and the new .pcb and group data files have been uploaded
into the system, you need to make sure everything is updated properly. The
easiest and safest way to do that is by clicking one-by-one of the buttons below
with the exception of “Clean up data files.” Also, make sure sure to check the
two boxes in the middle. Clicking all these buttons may take several minutes of
your time, you we recommend that for small updates you only click on “Check
survey means” and “Make Survey and Reference+GDF,” and leave the box “Re-make
all dataset” <strong>unchecked</strong>. In most of the cases, this is enough to update the
whole system, but if something is failing, it is better to execute all the steps
as explained above.</p>
<div class="inline-figure"><img src="images/Metadata_file2.jpg"></div>
<p>Finally, once it is ready to be deployed in Production, click on “Rebuild listed
Economy docs” (which needs to be done only once, in case of uploading several
times the master file) and then click on “Restart PovcalNet.”</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="create-pcb-files.html"><span class="header-section-number">11</span> Create .PCB files</a></div>
<div class="next"><a href="master-file.html"><span class="header-section-number">13</span> Update the Master file</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li>
<a class="nav-link" href="#DMSystem"><span class="header-section-number">12</span> The Data Management System</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#development-internal-server">Development (internal) server</a></li>
<li><a class="nav-link" href="#production">Production</a></li>
<li><a class="nav-link" href="#testing-server">Testing server</a></li>
<li><a class="nav-link" href="#restricted-ar-server">Restricted (AR) server</a></li>
</ul>
</li>
<li><a class="nav-link" href="#upload-the-master-file"><span class="header-section-number">12.1</span> Upload the Master File</a></li>
<li><a class="nav-link" href="#pcb-files"><span class="header-section-number">12.2</span> PCB files</a></li>
<li><a class="nav-link" href="#updating-the-system"><span class="header-section-number">12.3</span> Updating the system</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/PovcalNet-Team/Povcalnet_internal_guidelines//blob/master/Data_Management.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/PovcalNet-Team/Povcalnet_internal_guidelines//edit/master/Data_Management.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>PovcalNet Internal Guidelines and Protocols</strong>" was written by PovcalNet team, Development Data Group, World Bank Group. It was last built on 2021-04-06.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
